Multivendor Eccommerce UI

integration of msw for API mocking >>> https://mswjs.io/docs/integrations/browser

//src
├── mocks/
│ ├── browser.js
│ └── handlers.js

//public
└── mockServiceWorker.js # (Generated by MSW with -- npx msw init public/ --save)

//vite.config.js
export default defineConfig({
base: '/REACT-DUMMY/', // Your correct base if needed
server: {
headers: {
'Service-Worker-Allowed': '/', // Allow MSW to control the full scope
},
},
})

//main.jsx >> for debug
async function prepare() {
if (import.meta.env.MODE === 'development') {
try {
const { worker } = await import('./mocks/browser');
await worker.start({
serviceWorker: {
url: '/REACT-DUMMY/mockServiceWorker.js' // <<< ADD THIS if app is not running on "/"
}
});
console.log("✅ MSW started successfully!");
} catch (error) {
console.error("❌ MSW failed to start:", error);
}
}
}

// Prepare mocks, then render app
prepare().then(() => {
console.log("✅ Rendering App...");
createRoot(document.getElementById('root')).render(
<StrictMode>
<App />
</StrictMode>,
);
});
